;; Hey, Emacs! This is a -*- lisp -*- file!
(in-package :stumpwm)

(let ((home (sb-unix::posix-getenv "HOME")))
      
      ;; GNOME Integration
      (run-shell-command "trayer --SetDockType false --transparent false --SetPartialStrut --widthtype --expand false --width 50")
      (run-shell-command "nm-applet --sm-disable")
       
      ;; my hotkeys (thanks in part to http://stumpwm.svkt.org/cgi-bin/wiki.pl)
      (define-key *root-map* (kbd "d") "exec google-chrome")
      (define-key *root-map* (kbd "x") "exec nautilus --no-desktop")
      (define-key *root-map* (kbd "DEL") "quit")
      (define-key *root-map* (kbd "q") "exec dbus-send --system --print-reply --dest='org.freedesktop.UPower' /org/freedesktop/UPower org.freedesktop.UPower.Suspend")
      (define-key *top-map* (kbd "XF86AudioRaiseVolume") "exec amixer set Master 5+")
      (define-key *top-map* (kbd "XF86AudioLowerVolume") "exec amixer set Master 5-")
      (define-key *top-map* (kbd "XF86AudioMute") "exec amixer set Master toggle")

      ;; startup stuff
      (run-shell-command (concatenate 'string "xsetbg -border black -center " home "/Pictures/stumpwm_wallpaper.jpg"))
      (run-shell-command "emacs")

      ;; swap CAPS and CTRL
      (run-shell-command "setxkbmap -option ctrl:swapcaps"))
